I"]<h2 id="接口测试-自定义函数">接口测试-自定义函数</h2>

<p>自定义函数拓展性很强，在 测试数据、参数校验，测试前置、测试后置 、MockService中有广泛用途，执行操作挥着返回对应的变量值。</p>

<p>具体方法实现可以参考自定义函数明细</p>

<h3 id="时间获取类">时间获取类</h3>

<p>使用场景: 交易日期加减</p>

<table>
  <thead>
    <tr>
      <th>get_date_Y_m_d()</th>
      <th>获取年月日</th>
      <th>2021-04-17</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>get_date_H_M_S()</td>
      <td>获取时分秒</td>
      <td>23:15:01</td>
    </tr>
    <tr>
      <td>get_date_Y_m_d_H_M_S()</td>
      <td>获取年月日时分秒</td>
      <td>2021-04-17 23:15:01</td>
    </tr>
    <tr>
      <td>get_date_Ymd()</td>
      <td>获取年月日</td>
      <td>2021-04-17</td>
    </tr>
    <tr>
      <td>add_date(input, times)</td>
      <td>日期相加</td>
      <td>input: 2021-04-17 times=1  ==&gt; output:2021-04-18</td>
    </tr>
    <tr>
      <td>minus_date(input, times)</td>
      <td>日期相减</td>
      <td>input: 2021-04-17 times=1  ==&gt; output:2021-04-16</td>
    </tr>
  </tbody>
</table>

<h3 id="uuid类">UUID类</h3>

<p>使用场景: 请求参数生成唯一ID</p>

<table>
  <thead>
    <tr>
      <th>函数依赖包</th>
      <th>函数依赖包</th>
      <th>eg.示例</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>random_length_string(10)</td>
      <td>随机生成指定长度的字符串uuid</td>
      <td>qwertyuips</td>
    </tr>
  </tbody>
</table>

<h3 id="查询数据库">查询数据库</h3>

<p>使用场景: 数据库增删改查</p>

<table>
  <thead>
    <tr>
      <th>${select_common($urm_db_url, $sql, oracle, 0, AT_START_dt)}</th>
      <th>select方法使用,row是游标从0开始</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>${select_common($urm_db_url, $sql, oracle)}</td>
      <td>insert、update、delete使用</td>
    </tr>
  </tbody>
</table>

<h3 id="操作redis">操作redis</h3>

<table>
  <thead>
    <tr>
      <th>redis_str(nodes, method, key)</th>
      <th>操作redis数据库</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h3 id="生成证件号">生成证件号</h3>

<table>
  <thead>
    <tr>
      <th>createIdcard()</th>
      <th>生成身份证号</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>create_phone()</td>
      <td>生成手机号</td>
    </tr>
    <tr>
      <td>creste_bank_card(bank_name)</td>
      <td>生成农商或交通银行卡号</td>
    </tr>
  </tbody>
</table>

<h2 id="接口测试-数据驱动">接口测试-数据驱动</h2>

<p>当这个接口有很多种可能性的时候，写单条测试用例的性价比就不高了，就要用参数驱动的功能。</p>

<p>使用有两种方式：</p>

:ET